import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */const r=localStorage.getItem("vendorId"),d=`https://sosika-backend.onrender.com/api/vendor/${r}`;async function a(){try{const n=await fetch(d);if(!n.ok)throw new Error("Failed to fetch vendor details");const e=await n.json();document.getElementById("name").value=e.name,document.getElementById("ownerName").value=e.owner_name,document.getElementById("collegeId").value=e.college_id,document.getElementById("loading-text").style.display="none",document.querySelector(".login-container").classList.remove("hidden"),initMap(e.geolocation)}catch(n){document.getElementById("loading-text").textContent="Error loading vendor details.",console.error(n)}}document.getElementById("vendor-form").addEventListener("submit",async function(n){n.preventDefault();const e={};if(["name","ownerName","collegeId","password"].forEach(t=>{const o=document.getElementById(t);o.value.trim()!==""&&(e[t]=o.value.trim())}),Object.keys(e).length===0){document.getElementById("message").textContent="No changes to update.",document.getElementById("message").style.color="red";return}try{const t=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.json();if(t.ok)document.getElementById("message").textContent="Profile updated successfully!",document.getElementById("message").style.color="green";else throw new Error(o.error||"Failed to update profile")}catch(t){document.getElementById("message").textContent=t.message,document.getElementById("message").style.color="red"}});a();
